<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE HTML>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/template/template.xhtml">
	
	<ui:define name="content" >
	
	<h:head>
		  <link type="text/css" rel="stylesheet" href="../css/default.css" />
	</h:head>
	
	<h:body>
		<h:form id="form">
		<p:growl id="growl" />
		<p:panel id="AlteraUser" header="Alterar Usário">
			
				<p:panel header="Dados Usuário" styleClass="semBorda">
				<p:panelGrid columns="2">
					<p:outputLabel value="Login " />
					<p:inputText value="#{editarUsuarioBean.user.login}" />
					
					<p:outputLabel value="Nome " />
					<p:inputText value="#{editarUsuarioBean.user.nome}" />
					
					<p:outputLabel value="Senha " />
					<p:password value="#{editarUsuarioBean.senhaAlterada}" />
					
					<p:outputLabel value="Email " />
					<p:inputText id="email" value="#{editarUsuarioBean.user.email}" />
					
					<p:outputLabel for="tipo_usuario" value="Tipo do Usuário:" />
					<p:selectOneMenu id="tipo_usuario" value="#{editarUsuarioBean.user.tipo}">
						<f:selectItem itemValue="1" itemLabel="1- Analista de Producao"/>
						<f:selectItem itemValue="2" itemLabel="2- Analista de Suporte"/>
						<f:selectItem itemValue="3" itemLabel="3- Desenvolvedor"/>
					</p:selectOneMenu>
								
					<p:outputLabel for="celula" value="Célula: " />
					<p:selectOneMenu id="celula" converter="oneMenuConverter" value="#{editarUsuarioBean.user.celula}" style="width:150px">
					<f:selectItem itemLabel="Selecionar célula" itemValue="" noSelectionOption="true" />
					<f:selectItems value="#{celula.retornaTodasCelulas()}" var = "cel" itemLabel="#{cel.nome}" itemValue="#{cel}" />
					</p:selectOneMenu>
					
					<p:outputLabel for="status_usuario" value="Status do Usuário:" />
					<p:selectOneMenu id="status_usuario" value="#{editarUsuarioBean.user.status}">
			        <f:selectItem itemValue="1" itemLabel="1- Ativo"/>
			        <f:selectItem itemValue="0" itemLabel="0- Inativo	"/>
			        </p:selectOneMenu>
			        
		  		</p:panelGrid>
		     </p:panel>
        	<br/>
            <p:commandButton value="Salvar"
					action="#{editarUsuarioBean.salvaAlteracao()}" update="growl">
					<p:confirm header="Confirmação"
						message="Tem certeza que deseja salvar o registro?"
						icon="ui-icon-alert" />
					<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">

						<p:commandButton value="Sim" type="button"
							styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
						<p:commandButton value="Não" type="button"
							styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
					</p:confirmDialog>
				</p:commandButton>

				<p:commandButton value="Cancelar" style="margin-left:10px;"
					action="#{editarUsuarioBean.cancela()}">
					<p:confirm header="Confirmação"
						message="Tem certeza que deseja cancelar a alteração ? Todos os dados digitados serão perdidos."
						icon="ui-icon-alert" />
					<p:confirmDialog global="true" showEffect="fade" hideEffect="fade"
						icon="ui-icon-cancel">

						<p:commandButton value="Sim" type="button"
							styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
						<p:commandButton value="Não" type="button"
							styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
					</p:confirmDialog>
				</p:commandButton>
        	
        </p:panel>
    
        </h:form>
	</h:body>
	
</ui:define>
</ui:composition>
	