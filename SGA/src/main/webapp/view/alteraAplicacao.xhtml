<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE HTML>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/template/template.xhtml">
	
	<ui:define name="content" >
	
	<h:head>
		  <link type="text/css" rel="stylesheet" href="../css/default.css" />
	</h:head>
	<h:body>
	
		<h:form id="form">
			<p:growl id="growl" />
			<p:panel id="painelCelula" header="Alterar Aplicação">
				<br />
				<p:panel header="Dados Aplicação"  style="margin-bottom:20px">
					<p:panelGrid columns="2">

						<p:outputLabel value="Nome " />
						<p:inputText value="#{editarAplicacaoBean.aplicacao.nome}" />
				
						
					<p:outputLabel value="Status da Aplicação:" />
					<h:selectOneMenu id="status_apl" value="#{editarAplicacaoBean.aplicacao.status}">
			        <f:selectItem itemValue="1" itemLabel="Ativa"/>
			        <f:selectItem itemValue="0" itemLabel="Desativada"/>
			        </h:selectOneMenu>
						
						<p:outputLabel for="celula" value="Célula:" />
		  				 <h:selectOneMenu converter="oneMenuConverter" id="celula" value="#{editarAplicacaoBean.aplicacao.celula}"
							style="width:150px">
							<f:selectItems var = "cel" itemValue="#{cel}" value = "#{cadastroCelulaBean.listaCelula}" itemLabel="#{cel.nome}" />
						</h:selectOneMenu>	
					</p:panelGrid>
					<br/>
			<p:commandButton value="Salvar"
					action="#{editarAplicacaoBean.salvaAlteracao}" update="growl">
					<p:confirm header="Confirmação"
						message="Tem certeza que deseja salvar o registro?"
						icon="ui-icon-alert" />
					<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">

						<p:commandButton value="Sim" type="button"
							styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
						<p:commandButton value="Não" type="button"
							styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
					</p:confirmDialog>
				</p:commandButton>

				<p:commandButton value="Cancelar"
					action="#{editarCelulaBean.cancela}" style="margin-left: 10px;">
					<p:confirm header="Confirmação"
						message="Tem certeza que deseja cancelar a alteração ? Todos os dados digitados serão perdidos."
						icon="ui-icon-alert" />
					<p:confirmDialog global="true" showEffect="fade" hideEffect="fade"
						icon="ui-icon-cancel">

						<p:commandButton value="Sim" type="button"
							styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
						<p:commandButton value="Não" type="button"
							styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
					</p:confirmDialog>
				</p:commandButton>
				</p:panel>
			<br/>
			<p:panel header="Recursos por Aplicação" style="margin-bottom:20px">
				<p:panelGrid columns="2">
				
					<p:outputLabel for="celula" value="Adicionar recurso a aplicação: " />
		  				 <h:selectOneMenu converter="oneMenuConverter" id="aplicacaoObj" var = "vrecursoAplicacao" value="#{cadastraRecursoAplicacaoBean.recursoAplicacao.aplicacao}"
							style="width:150px">
							<f:selectItems var = "cel" itemValue="#{cel}" value = "#{editarAplicacaoBean.listaAplicacao}" itemLabel="#{cel.nome}"  />
					</h:selectOneMenu>	
				
				
					<p:outputLabel for="celula" value="Recurso:" />
		  				 <h:selectOneMenu converter="oneMenuConverter" id="recurso" value="#{cadastraRecursoAplicacaoBean.recursoAplicacao.recursos}"
							style="width:150px">
							<f:selectItems var = "vrecursos" itemValue="#{vrecursos}" value = "#{consultaRecursoBean.listaRecursos}" itemLabel="#{vrecursos.nome}" />
					</h:selectOneMenu>	
					
					<p:outputLabel value="Quantidade Mínima:" />
					<p:inputText value="#{cadastraRecursoAplicacaoBean.recursoAplicacao.quantidadeMinima}" />
					
					<p:outputLabel value="Quantidade Máxima: " />
					<p:inputText value="#{cadastraRecursoAplicacaoBean.recursoAplicacao.quantidadeMaxima}" />
					
					<p:outputLabel value="Quantidade Crítica: " />
					<p:inputText value="#{cadastraRecursoAplicacaoBean.recursoAplicacao.quantiodadeCritica}" />
					
					<p:outputLabel value="Valor: " />
					<p:inputText value="#{cadastraRecursoAplicacaoBean.recursoAplicacao.valor}" />
					
					</p:panelGrid>
					<br/>
					<p:commandButton value="Adicionar"
					action="#{cadastraRecursoAplicacaoBean.salvar}" update="@form">
					<p:confirm header="Confirmação"
						message="Tem certeza que deseja adicionar este recurso a aplicação?"
						icon="ui-icon-alert" />
					<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">

						<p:commandButton value="Sim" type="button"
							styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
						<p:commandButton value="Não" type="button"
							styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
					</p:confirmDialog>
				</p:commandButton>
			
				
				<p:commandButton value="Visualizar Recursos da aplicação"
					action="consultaRecursoAplicacao.xhtml" 
					style="margin-left:10px;">
					<f:param name="RecursoAplicacaoId" value="#{editarAplicacaoBean.aplicacao.id}" />
				</p:commandButton>
								
			</p:panel>
			
			</p:panel>	
			
		</h:form>
	</h:body>
</ui:define>
</ui:composition>
